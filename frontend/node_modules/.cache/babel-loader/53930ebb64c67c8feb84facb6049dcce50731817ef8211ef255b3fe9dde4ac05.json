{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import'../styles/index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var loginName;var loginPassword;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var doLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var obj,js,response,res,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();obj={email:loginName.value,password:loginPassword.value};js=JSON.stringify(obj);console.log(js);_context.prev=4;_context.next=7;return fetch('https://knightsreserv-00cde8777914.herokuapp.com/api/login',{method:'POST',body:js,headers:{'Content-Type':'application/json'}});case 7:response=_context.sent;_context.t0=JSON;_context.next=11;return response.text();case 11:_context.t1=_context.sent;res=_context.t0.parse.call(_context.t0,_context.t1);if(res.RSOName==undefined){setMessage('User/Password combination incorrect');}else{user={RSOName:res.RSOName};alert(res.RSOName);setMessage('');window.location.href='/OrgHomePage';}_context.next=20;break;case 16:_context.prev=16;_context.t2=_context[\"catch\"](4);alert(_context.t2.toString());return _context.abrupt(\"return\");case 20:case\"end\":return _context.stop();}},_callee,null,[[4,16]]);}));return function doLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"loginDiv\",children:[/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossorigin:true}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Gabarito:wght@400;700&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:doLogin,children:[/*#__PURE__*/_jsx(\"span\",{id:\"inner-title\",children:\"Please Log In\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"user-authentication-text-form\",id:\"loginName\",placeholder:\"Email\",ref:function ref(c){return loginName=c;},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"user-authentication-text-form\",id:\"loginPassword\",placeholder:\"Password\",ref:function ref(c){return loginPassword=c;},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"loginButton\",class:\"user-authentication-buttons\",value:\"Login\",onClick:doLogin})]}),/*#__PURE__*/_jsx(\"span\",{id:\"loginResult\",children:message})]});};export default Login;","map":{"version":3,"names":["React","useState","Link","jsx","_jsx","jsxs","_jsxs","Login","loginName","loginPassword","_useState","_useState2","_slicedToArray","message","setMessage","doLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","obj","js","response","res","user","wrap","_callee$","_context","prev","next","preventDefault","email","value","password","JSON","stringify","console","log","fetch","method","body","headers","sent","t0","text","t1","parse","call","RSOName","undefined","alert","window","location","href","t2","toString","abrupt","stop","_x","apply","arguments","id","children","rel","crossorigin","onSubmit","type","class","placeholder","ref","c","required","onClick"],"sources":["C:/Users/vintd/Documents/GitHub/Reserv/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../styles/index.css'\r\n\r\nfunction Login()\r\n{\r\n    var loginName;\r\n    var loginPassword;\r\n    const [message,setMessage] = useState('');\r\n    \r\n\r\n    const doLogin = async event =>\r\n    {\r\n        event.preventDefault();\r\n\r\n        var obj = {email:loginName.value,password:loginPassword.value};\r\n        var js = JSON.stringify(obj);\r\n        console.log(js);\r\n        try\r\n        {\r\n            const response = await fetch('https://knightsreserv-00cde8777914.herokuapp.com/api/login',\r\n            {method:'POST',\r\n            body:js,\r\n            headers:{'Content-Type':'application/json'}});\r\n\r\n            var res = JSON.parse(await response.text());\r\n            if( res.RSOName == undefined )\r\n            {\r\n                setMessage('User/Password combination incorrect');\r\n            }\r\n            else\r\n            {\r\n                var user =\r\n                {RSOName:res.RSOName};\r\n                alert(res.RSOName);        \r\n                setMessage('');\r\n                window.location.href = '/OrgHomePage';\r\n            }\r\n        }\r\n        catch(e)\r\n        {\r\n            alert(e.toString());\r\n            return;\r\n        }\r\n    };\r\n\r\n    return(\r\n        <div id=\"loginDiv\">\r\n            <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"/>\r\n            <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin/>\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Gabarito:wght@400;700&display=swap\" rel=\"stylesheet\"></link>\r\n            <form onSubmit={doLogin}>\r\n            <span id=\"inner-title\">Please Log In</span><br />\r\n            <input type=\"text\" class=\"user-authentication-text-form\" id=\"loginName\" placeholder=\"Email\"ref={(c) => loginName = c} required/><br />\r\n            <input type=\"password\" class=\"user-authentication-text-form\" id=\"loginPassword\" placeholder=\"Password\" ref={(c) => loginPassword = c} required /><br />\r\n            <input type=\"submit\" id=\"loginButton\" class=\"user-authentication-buttons\" value = \"Login\" onClick={doLogin} />\r\n            </form>\r\n            <span id=\"loginResult\">{message}</span>\r\n        </div>\r\n    );\r\n};\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}