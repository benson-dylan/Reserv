{"ast":null,"code":"'use client';\n\nimport _slicedToArray from \"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useRef, useState, useCallback, useEffect } from 'react';\nimport { useIsomorphicEffect } from '@mantine/hooks';\nfunction setColorSchemeAttribute(colorScheme, getRootElement) {\n  var _a;\n  var computedColorScheme = colorScheme !== \"auto\" ? colorScheme : window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n  (_a = getRootElement()) == null ? void 0 : _a.setAttribute(\"data-mantine-color-scheme\", computedColorScheme);\n}\nfunction useProviderColorScheme(_ref) {\n  var manager = _ref.manager,\n    defaultColorScheme = _ref.defaultColorScheme,\n    getRootElement = _ref.getRootElement,\n    forceColorScheme = _ref.forceColorScheme;\n  var media = useRef();\n  var _useState = useState(function () {\n      return manager.get(defaultColorScheme);\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var colorSchemeValue = forceColorScheme || value;\n  var setColorScheme = useCallback(function (colorScheme) {\n    if (!forceColorScheme) {\n      setColorSchemeAttribute(colorScheme, getRootElement);\n      setValue(colorScheme);\n      manager.set(colorScheme);\n    }\n  }, [manager.set, colorSchemeValue, forceColorScheme]);\n  var clearColorScheme = useCallback(function () {\n    setValue(defaultColorScheme);\n    setColorSchemeAttribute(defaultColorScheme, getRootElement);\n    manager.clear();\n  }, [manager.clear, defaultColorScheme]);\n  useEffect(function () {\n    manager.subscribe(setColorScheme);\n    return manager.unsubscribe;\n  }, [manager.subscribe, manager.unsubscribe]);\n  useIsomorphicEffect(function () {\n    setColorSchemeAttribute(manager.get(defaultColorScheme), getRootElement);\n  }, []);\n  useEffect(function () {\n    var _a;\n    if (forceColorScheme) {\n      setColorSchemeAttribute(forceColorScheme, getRootElement);\n      return function () {};\n    }\n    media.current = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    var listener = function listener(event) {\n      if (value === \"auto\") {\n        setColorSchemeAttribute(event.matches ? \"dark\" : \"light\", getRootElement);\n      }\n    };\n    (_a = media.current) == null ? void 0 : _a.addEventListener(\"change\", listener);\n    return function () {\n      var _a2;\n      return (_a2 = media.current) == null ? void 0 : _a2.removeEventListener(\"change\", listener);\n    };\n  }, [value, forceColorScheme]);\n  return {\n    colorScheme: colorSchemeValue,\n    setColorScheme: setColorScheme,\n    clearColorScheme: clearColorScheme\n  };\n}\nexport { useProviderColorScheme };","map":{"version":3,"names":["setColorSchemeAttribute","colorScheme","getRootElement","_a","computedColorScheme","window","matchMedia","matches","setAttribute","useProviderColorScheme","_ref","manager","defaultColorScheme","forceColorScheme","media","useRef","_useState","useState","get","_useState2","_slicedToArray","value","setValue","colorSchemeValue","setColorScheme","useCallback","set","clearColorScheme","clear","useEffect","subscribe","unsubscribe","useIsomorphicEffect","current","listener","event","addEventListener","_a2","removeEventListener"],"sources":["C:\\Users\\vintd\\Documents\\GitHub\\Reserv\\frontend\\node_modules\\@mantine\\core\\src\\core\\MantineProvider\\use-mantine-color-scheme\\use-provider-color-scheme.ts"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useIsomorphicEffect } from '@mantine/hooks';\nimport type { MantineColorSchemeManager } from '../color-scheme-managers';\nimport type { MantineColorScheme } from '../theme.types';\n\nfunction setColorSchemeAttribute(\n  colorScheme: MantineColorScheme,\n  getRootElement: () => HTMLElement | undefined\n) {\n  const computedColorScheme =\n    colorScheme !== 'auto'\n      ? colorScheme\n      : window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light';\n  getRootElement()?.setAttribute('data-mantine-color-scheme', computedColorScheme);\n}\n\ntype MediaQueryCallback = (event: { matches: boolean; media: string }) => void;\n\ninterface UseProviderColorSchemeOptions {\n  manager: MantineColorSchemeManager;\n  defaultColorScheme: MantineColorScheme;\n  forceColorScheme: 'light' | 'dark' | undefined;\n  getRootElement: () => HTMLElement | undefined;\n}\n\nexport function useProviderColorScheme({\n  manager,\n  defaultColorScheme,\n  getRootElement,\n  forceColorScheme,\n}: UseProviderColorSchemeOptions) {\n  const media = useRef<MediaQueryList>();\n  const [value, setValue] = useState(() => manager.get(defaultColorScheme));\n  const colorSchemeValue = forceColorScheme || value;\n\n  const setColorScheme = useCallback(\n    (colorScheme: MantineColorScheme) => {\n      if (!forceColorScheme) {\n        setColorSchemeAttribute(colorScheme, getRootElement);\n        setValue(colorScheme);\n        manager.set(colorScheme);\n      }\n    },\n    [manager.set, colorSchemeValue, forceColorScheme]\n  );\n\n  const clearColorScheme = useCallback(() => {\n    setValue(defaultColorScheme);\n    setColorSchemeAttribute(defaultColorScheme, getRootElement);\n    manager.clear();\n  }, [manager.clear, defaultColorScheme]);\n\n  useEffect(() => {\n    manager.subscribe(setColorScheme);\n    return manager.unsubscribe;\n  }, [manager.subscribe, manager.unsubscribe]);\n\n  useIsomorphicEffect(() => {\n    setColorSchemeAttribute(manager.get(defaultColorScheme), getRootElement);\n  }, []);\n\n  useEffect(() => {\n    if (forceColorScheme) {\n      setColorSchemeAttribute(forceColorScheme, getRootElement);\n      return () => {};\n    }\n\n    media.current = window.matchMedia('(prefers-color-scheme: dark)');\n    const listener: MediaQueryCallback = (event) => {\n      if (value === 'auto') {\n        setColorSchemeAttribute(event.matches ? 'dark' : 'light', getRootElement);\n      }\n    };\n\n    media.current?.addEventListener('change', listener);\n    return () => media.current?.removeEventListener('change', listener);\n  }, [value, forceColorScheme]);\n\n  return { colorScheme: colorSchemeValue, setColorScheme, clearColorScheme };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}