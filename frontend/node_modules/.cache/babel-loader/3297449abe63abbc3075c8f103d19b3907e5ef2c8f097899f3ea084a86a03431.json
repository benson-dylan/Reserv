{"ast":null,"code":"'use client';\n\nimport _slicedToArray from \"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useRef, useEffect } from 'react';\nimport { useUncontrolled } from '@mantine/hooks';\nimport { getNextIndex, getPreviousIndex, getFirstIndex } from './get-index/get-virtualized-index.mjs';\nfunction useVirtualizedCombobox() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      totalOptionsCount: 0,\n      getOptionId: function getOptionId() {\n        return null;\n      },\n      selectedOptionIndex: 1,\n      setSelectedOptionIndex: function setSelectedOptionIndex() {},\n      onSelectedOptionSubmit: function onSelectedOptionSubmit() {}\n    },\n    defaultOpened = _ref.defaultOpened,\n    opened = _ref.opened,\n    onOpenedChange = _ref.onOpenedChange,\n    onDropdownClose = _ref.onDropdownClose,\n    onDropdownOpen = _ref.onDropdownOpen,\n    _ref$loop = _ref.loop,\n    loop = _ref$loop === void 0 ? true : _ref$loop,\n    totalOptionsCount = _ref.totalOptionsCount,\n    _ref$isOptionDisabled = _ref.isOptionDisabled,\n    isOptionDisabled = _ref$isOptionDisabled === void 0 ? function () {\n      return false;\n    } : _ref$isOptionDisabled,\n    getOptionId = _ref.getOptionId,\n    selectedOptionIndex = _ref.selectedOptionIndex,\n    setSelectedOptionIndex = _ref.setSelectedOptionIndex,\n    activeOptionIndex = _ref.activeOptionIndex,\n    onSelectedOptionSubmit = _ref.onSelectedOptionSubmit;\n  var _useUncontrolled = useUncontrolled({\n      value: opened,\n      defaultValue: defaultOpened,\n      finalValue: false,\n      onChange: onOpenedChange\n    }),\n    _useUncontrolled2 = _slicedToArray(_useUncontrolled, 2),\n    dropdownOpened = _useUncontrolled2[0],\n    setDropdownOpened = _useUncontrolled2[1];\n  var listId = useRef(null);\n  var searchRef = useRef(null);\n  var targetRef = useRef(null);\n  var focusSearchTimeout = useRef(-1);\n  var focusTargetTimeout = useRef(-1);\n  var openDropdown = function openDropdown() {\n    if (!dropdownOpened) {\n      setDropdownOpened(true);\n      onDropdownOpen == null ? void 0 : onDropdownOpen();\n    }\n  };\n  var closeDropdown = function closeDropdown() {\n    if (dropdownOpened) {\n      setDropdownOpened(false);\n      onDropdownClose == null ? void 0 : onDropdownClose();\n    }\n  };\n  var toggleDropdown = function toggleDropdown() {\n    if (dropdownOpened) {\n      closeDropdown();\n    } else {\n      openDropdown();\n    }\n  };\n  var selectOption = function selectOption(index) {\n    var nextIndex = index >= totalOptionsCount ? 0 : index < 0 ? totalOptionsCount - 1 : index;\n    setSelectedOptionIndex(nextIndex);\n    return getOptionId(nextIndex);\n  };\n  var selectActiveOption = function selectActiveOption() {\n    return selectOption(activeOptionIndex != null ? activeOptionIndex : 0);\n  };\n  var selectNextOption = function selectNextOption() {\n    return selectOption(getNextIndex({\n      currentIndex: selectedOptionIndex,\n      isOptionDisabled: isOptionDisabled,\n      totalOptionsCount: totalOptionsCount,\n      loop: loop\n    }));\n  };\n  var selectPreviousOption = function selectPreviousOption() {\n    return selectOption(getPreviousIndex({\n      currentIndex: selectedOptionIndex,\n      isOptionDisabled: isOptionDisabled,\n      totalOptionsCount: totalOptionsCount,\n      loop: loop\n    }));\n  };\n  var selectFirstOption = function selectFirstOption() {\n    return selectOption(getFirstIndex({\n      isOptionDisabled: isOptionDisabled,\n      totalOptionsCount: totalOptionsCount\n    }));\n  };\n  var resetSelectedOption = function resetSelectedOption() {\n    setSelectedOptionIndex(-1);\n  };\n  var clickSelectedOption = function clickSelectedOption() {\n    onSelectedOptionSubmit == null ? void 0 : onSelectedOptionSubmit(selectedOptionIndex);\n  };\n  var setListId = function setListId(id) {\n    listId.current = id;\n  };\n  var focusSearchInput = function focusSearchInput() {\n    focusSearchTimeout.current = window.setTimeout(function () {\n      return searchRef.current.focus();\n    }, 0);\n  };\n  var focusTarget = function focusTarget() {\n    focusTargetTimeout.current = window.setTimeout(function () {\n      return targetRef.current.focus();\n    }, 0);\n  };\n  useEffect(function () {\n    return function () {\n      window.clearTimeout(focusSearchTimeout.current);\n      window.clearTimeout(focusTargetTimeout.current);\n    };\n  }, []);\n  return {\n    dropdownOpened: dropdownOpened,\n    openDropdown: openDropdown,\n    closeDropdown: closeDropdown,\n    toggleDropdown: toggleDropdown,\n    selectedOptionIndex: selectedOptionIndex,\n    selectOption: selectOption,\n    selectFirstOption: selectFirstOption,\n    selectActiveOption: selectActiveOption,\n    selectNextOption: selectNextOption,\n    selectPreviousOption: selectPreviousOption,\n    resetSelectedOption: resetSelectedOption,\n    updateSelectedOptionIndex: function updateSelectedOptionIndex() {},\n    listId: listId.current,\n    setListId: setListId,\n    clickSelectedOption: clickSelectedOption,\n    searchRef: searchRef,\n    focusSearchInput: focusSearchInput,\n    targetRef: targetRef,\n    focusTarget: focusTarget\n  };\n}\nexport { useVirtualizedCombobox };","map":{"version":3,"names":["useVirtualizedCombobox","_ref","arguments","length","undefined","totalOptionsCount","getOptionId","selectedOptionIndex","setSelectedOptionIndex","onSelectedOptionSubmit","defaultOpened","opened","onOpenedChange","onDropdownClose","onDropdownOpen","_ref$loop","loop","_ref$isOptionDisabled","isOptionDisabled","activeOptionIndex","_useUncontrolled","useUncontrolled","value","defaultValue","finalValue","onChange","_useUncontrolled2","_slicedToArray","dropdownOpened","setDropdownOpened","listId","useRef","searchRef","targetRef","focusSearchTimeout","focusTargetTimeout","openDropdown","closeDropdown","toggleDropdown","selectOption","index","nextIndex","selectActiveOption","selectNextOption","getNextIndex","currentIndex","selectPreviousOption","getPreviousIndex","selectFirstOption","getFirstIndex","resetSelectedOption","clickSelectedOption","setListId","id","current","focusSearchInput","window","setTimeout","focus","focusTarget","useEffect","clearTimeout","updateSelectedOptionIndex"],"sources":["C:\\Users\\vintd\\Documents\\GitHub\\Reserv\\frontend\\node_modules\\@mantine\\core\\src\\components\\Combobox\\use-combobox\\use-virtualized-combobox.ts"],"sourcesContent":["// WIP, not planned to be released in 7.0, maybe in 7.x\nimport { useEffect, useRef } from 'react';\nimport { useUncontrolled } from '@mantine/hooks';\nimport { getPreviousIndex, getNextIndex, getFirstIndex } from './get-index/get-virtualized-index';\nimport { ComboboxStore } from './use-combobox';\n\ninterface UseComboboxOptions {\n  /** Default value for `dropdownOpened`, `false` by default */\n  defaultOpened?: boolean;\n\n  /** Controlled `dropdownOpened` state */\n  opened?: boolean;\n\n  /** Called when `dropdownOpened` state changes */\n  onOpenedChange?: (opened: boolean) => void;\n\n  /** Called when dropdown closes */\n  onDropdownClose?: () => void;\n\n  /** Called when dropdown opens */\n  onDropdownOpen?: () => void;\n\n  /** Determines whether arrow key presses should loop though items (first to last and last to first), `true` by default */\n  loop?: boolean;\n\n  /** Function to determine whether the option is disabled */\n  isOptionDisabled?: (optionIndex: number) => boolean;\n\n  totalOptionsCount: number;\n\n  getOptionId: (index: number) => string | null;\n\n  selectedOptionIndex: number;\n\n  setSelectedOptionIndex: (index: number) => void;\n\n  activeOptionIndex?: number;\n\n  onSelectedOptionSubmit: (index: number) => void;\n}\n\nexport function useVirtualizedCombobox(\n  {\n    defaultOpened,\n    opened,\n    onOpenedChange,\n    onDropdownClose,\n    onDropdownOpen,\n    loop = true,\n    totalOptionsCount,\n    isOptionDisabled = () => false,\n    getOptionId,\n    selectedOptionIndex,\n    setSelectedOptionIndex,\n    activeOptionIndex,\n    onSelectedOptionSubmit,\n  }: UseComboboxOptions = {\n    totalOptionsCount: 0,\n    getOptionId: () => null,\n    selectedOptionIndex: 1,\n    setSelectedOptionIndex: () => {},\n    onSelectedOptionSubmit: () => {},\n  }\n): ComboboxStore {\n  const [dropdownOpened, setDropdownOpened] = useUncontrolled({\n    value: opened,\n    defaultValue: defaultOpened,\n    finalValue: false,\n    onChange: onOpenedChange,\n  });\n\n  const listId = useRef<string | null>(null);\n  const searchRef = useRef<HTMLInputElement | null>(null);\n  const targetRef = useRef<HTMLElement | null>(null);\n  const focusSearchTimeout = useRef<number>(-1);\n  const focusTargetTimeout = useRef<number>(-1);\n\n  const openDropdown = () => {\n    if (!dropdownOpened) {\n      setDropdownOpened(true);\n      onDropdownOpen?.();\n    }\n  };\n\n  const closeDropdown = () => {\n    if (dropdownOpened) {\n      setDropdownOpened(false);\n      onDropdownClose?.();\n    }\n  };\n\n  const toggleDropdown = () => {\n    if (dropdownOpened) {\n      closeDropdown();\n    } else {\n      openDropdown();\n    }\n  };\n\n  const selectOption = (index: number) => {\n    const nextIndex = index >= totalOptionsCount ? 0 : index < 0 ? totalOptionsCount - 1 : index;\n    setSelectedOptionIndex(nextIndex);\n    return getOptionId(nextIndex);\n  };\n\n  const selectActiveOption = () => selectOption(activeOptionIndex ?? 0);\n\n  const selectNextOption = () =>\n    selectOption(\n      getNextIndex({ currentIndex: selectedOptionIndex, isOptionDisabled, totalOptionsCount, loop })\n    );\n\n  const selectPreviousOption = () =>\n    selectOption(\n      getPreviousIndex({\n        currentIndex: selectedOptionIndex,\n        isOptionDisabled,\n        totalOptionsCount,\n        loop,\n      })\n    );\n\n  const selectFirstOption = () =>\n    selectOption(getFirstIndex({ isOptionDisabled, totalOptionsCount }));\n\n  const resetSelectedOption = () => {\n    setSelectedOptionIndex(-1);\n  };\n\n  const clickSelectedOption = () => {\n    onSelectedOptionSubmit?.(selectedOptionIndex);\n  };\n\n  const setListId = (id: string) => {\n    listId.current = id;\n  };\n\n  const focusSearchInput = () => {\n    focusSearchTimeout.current = window.setTimeout(() => searchRef.current!.focus(), 0);\n  };\n\n  const focusTarget = () => {\n    focusTargetTimeout.current = window.setTimeout(() => targetRef.current!.focus(), 0);\n  };\n\n  useEffect(\n    () => () => {\n      window.clearTimeout(focusSearchTimeout.current);\n      window.clearTimeout(focusTargetTimeout.current);\n    },\n    []\n  );\n\n  return {\n    dropdownOpened,\n    openDropdown,\n    closeDropdown,\n    toggleDropdown,\n\n    selectedOptionIndex,\n    selectOption,\n    selectFirstOption,\n    selectActiveOption,\n    selectNextOption,\n    selectPreviousOption,\n    resetSelectedOption,\n    updateSelectedOptionIndex: () => {},\n\n    listId: listId.current,\n    setListId,\n    clickSelectedOption,\n\n    searchRef,\n    focusSearchInput,\n\n    targetRef,\n    focusTarget,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}