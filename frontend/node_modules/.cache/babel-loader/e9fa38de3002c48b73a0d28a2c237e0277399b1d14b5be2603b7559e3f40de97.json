{"ast":null,"code":"'use client';\n\nimport _toConsumableArray from \"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState, useCallback } from 'react';\nimport { useDelayGroupContext, useFloating, offset, shift, flip, arrow, inline, useInteractions, useHover, useFocus, useRole, useDismiss, useDelayGroup } from '@floating-ui/react';\nimport { useId, useDidUpdate } from '@mantine/hooks';\nimport { useTooltipGroupContext } from './TooltipGroup/TooltipGroup.context.mjs';\nimport { useFloatingAutoUpdate } from '../Floating/use-floating-auto-update.mjs';\nfunction useTooltip(settings) {\n  var _a, _b, _c;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    uncontrolledOpened = _useState2[0],\n    setUncontrolledOpened = _useState2[1];\n  var controlled = typeof settings.opened === \"boolean\";\n  var opened = controlled ? settings.opened : uncontrolledOpened;\n  var withinGroup = useTooltipGroupContext();\n  var uid = useId();\n  var _useDelayGroupContext = useDelayGroupContext(),\n    groupDelay = _useDelayGroupContext.delay,\n    currentId = _useDelayGroupContext.currentId,\n    setCurrentId = _useDelayGroupContext.setCurrentId;\n  var onChange = useCallback(function (_opened) {\n    setUncontrolledOpened(_opened);\n    if (_opened) {\n      setCurrentId(uid);\n    }\n  }, [setCurrentId, uid]);\n  var _useFloating = useFloating({\n      placement: settings.position,\n      open: opened,\n      onOpenChange: onChange,\n      middleware: [offset(settings.offset), shift({\n        padding: 8\n      }), flip(), arrow({\n        element: settings.arrowRef,\n        padding: settings.arrowOffset\n      })].concat(_toConsumableArray(settings.inline ? [inline()] : []))\n    }),\n    x = _useFloating.x,\n    y = _useFloating.y,\n    context = _useFloating.context,\n    refs = _useFloating.refs,\n    update = _useFloating.update,\n    placement = _useFloating.placement,\n    _useFloating$middlewa = _useFloating.middlewareData.arrow,\n    _useFloating$middlewa2 = _useFloating$middlewa === void 0 ? {} : _useFloating$middlewa,\n    arrowX = _useFloating$middlewa2.x,\n    arrowY = _useFloating$middlewa2.y;\n  var _useInteractions = useInteractions([useHover(context, {\n      enabled: (_a = settings.events) == null ? void 0 : _a.hover,\n      delay: withinGroup ? groupDelay : {\n        open: settings.openDelay,\n        close: settings.closeDelay\n      },\n      mouseOnly: !((_b = settings.events) == null ? void 0 : _b.touch)\n    }), useFocus(context, {\n      enabled: (_c = settings.events) == null ? void 0 : _c.focus,\n      keyboardOnly: true\n    }), useRole(context, {\n      role: \"tooltip\"\n    }),\n    // cannot be used with controlled tooltip, page jumps\n    useDismiss(context, {\n      enabled: typeof settings.opened === void 0\n    }), useDelayGroup(context, {\n      id: uid\n    })]),\n    getReferenceProps = _useInteractions.getReferenceProps,\n    getFloatingProps = _useInteractions.getFloatingProps;\n  useFloatingAutoUpdate({\n    opened: opened,\n    position: settings.position,\n    positionDependencies: settings.positionDependencies,\n    floating: {\n      refs: refs,\n      update: update\n    }\n  });\n  useDidUpdate(function () {\n    var _a2;\n    (_a2 = settings.onPositionChange) == null ? void 0 : _a2.call(settings, placement);\n  }, [placement]);\n  var isGroupPhase = opened && currentId && currentId !== uid;\n  return {\n    x: x,\n    y: y,\n    arrowX: arrowX,\n    arrowY: arrowY,\n    reference: refs.setReference,\n    floating: refs.setFloating,\n    getFloatingProps: getFloatingProps,\n    getReferenceProps: getReferenceProps,\n    isGroupPhase: isGroupPhase,\n    opened: opened,\n    placement: placement\n  };\n}\nexport { useTooltip };","map":{"version":3,"names":["useTooltip","settings","_a","_b","_c","_useState","useState","_useState2","_slicedToArray","uncontrolledOpened","setUncontrolledOpened","controlled","opened","withinGroup","useTooltipGroupContext","uid","useId","_useDelayGroupContext","useDelayGroupContext","groupDelay","delay","currentId","setCurrentId","onChange","useCallback","_opened","_useFloating","useFloating","placement","position","open","onOpenChange","middleware","offset","shift","padding","flip","arrow","element","arrowRef","arrowOffset","concat","_toConsumableArray","inline","x","y","context","refs","update","_useFloating$middlewa","middlewareData","_useFloating$middlewa2","arrowX","arrowY","_useInteractions","useInteractions","useHover","enabled","events","hover","openDelay","close","closeDelay","mouseOnly","touch","useFocus","focus","keyboardOnly","useRole","role","useDismiss","useDelayGroup","id","getReferenceProps","getFloatingProps","useFloatingAutoUpdate","positionDependencies","floating","useDidUpdate","_a2","onPositionChange","call","isGroupPhase","reference","setReference","setFloating"],"sources":["C:\\Users\\vintd\\Documents\\GitHub\\Reserv\\frontend\\node_modules\\@mantine\\core\\src\\components\\Tooltip\\use-tooltip.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\nimport {\n  useFloating,\n  flip,\n  arrow,\n  offset,\n  shift,\n  useInteractions,\n  useHover,\n  useFocus,\n  useRole,\n  useDismiss,\n  useDelayGroupContext,\n  useDelayGroup,\n  inline,\n} from '@floating-ui/react';\nimport { useId, useDidUpdate } from '@mantine/hooks';\nimport { useTooltipGroupContext } from './TooltipGroup/TooltipGroup.context';\nimport { FloatingAxesOffsets, FloatingPosition, useFloatingAutoUpdate } from '../Floating';\n\ninterface UseTooltip {\n  position: FloatingPosition;\n  closeDelay?: number;\n  openDelay?: number;\n  onPositionChange?: (position: FloatingPosition) => void;\n  opened?: boolean;\n  offset: number | FloatingAxesOffsets;\n  arrowRef?: React.RefObject<HTMLDivElement>;\n  arrowOffset?: number;\n  events?: { hover: boolean; focus: boolean; touch: boolean };\n  positionDependencies: any[];\n  inline?: boolean;\n}\n\nexport function useTooltip(settings: UseTooltip) {\n  const [uncontrolledOpened, setUncontrolledOpened] = useState(false);\n  const controlled = typeof settings.opened === 'boolean';\n  const opened = controlled ? settings.opened : uncontrolledOpened;\n  const withinGroup = useTooltipGroupContext();\n  const uid = useId();\n\n  const { delay: groupDelay, currentId, setCurrentId } = useDelayGroupContext();\n\n  const onChange = useCallback(\n    (_opened: boolean) => {\n      setUncontrolledOpened(_opened);\n\n      if (_opened) {\n        setCurrentId(uid);\n      }\n    },\n    [setCurrentId, uid]\n  );\n\n  const {\n    x,\n    y,\n    context,\n    refs,\n    update,\n    placement,\n    middlewareData: { arrow: { x: arrowX, y: arrowY } = {} },\n  } = useFloating({\n    placement: settings.position,\n    open: opened,\n    onOpenChange: onChange,\n    middleware: [\n      offset(settings.offset),\n      shift({ padding: 8 }),\n      flip(),\n      arrow({ element: settings.arrowRef!, padding: settings.arrowOffset }),\n      ...(settings.inline ? [inline()] : []),\n    ],\n  });\n\n  const { getReferenceProps, getFloatingProps } = useInteractions([\n    useHover(context, {\n      enabled: settings.events?.hover,\n      delay: withinGroup ? groupDelay : { open: settings.openDelay, close: settings.closeDelay },\n      mouseOnly: !settings.events?.touch,\n    }),\n    useFocus(context, { enabled: settings.events?.focus, keyboardOnly: true }),\n    useRole(context, { role: 'tooltip' }),\n    // cannot be used with controlled tooltip, page jumps\n    useDismiss(context, { enabled: typeof settings.opened === undefined }),\n    useDelayGroup(context, { id: uid }),\n  ]);\n\n  useFloatingAutoUpdate({\n    opened,\n    position: settings.position,\n    positionDependencies: settings.positionDependencies,\n    floating: { refs, update },\n  });\n\n  useDidUpdate(() => {\n    settings.onPositionChange?.(placement);\n  }, [placement]);\n\n  const isGroupPhase = opened && currentId && currentId !== uid;\n\n  return {\n    x,\n    y,\n    arrowX,\n    arrowY,\n    reference: refs.setReference,\n    floating: refs.setFloating,\n    getFloatingProps,\n    getReferenceProps,\n    isGroupPhase,\n    opened,\n    placement,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}