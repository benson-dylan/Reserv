{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/vintd/Documents/GitHub/Reserv/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CardUI(){var card='';var search='';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchResults=_useState4[0],setResults=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),cardList=_useState6[0],setCardList=_useState6[1];var _ud=localStorage.getItem('user_data');var ud=JSON.parse(_ud);var userId=ud.id;var firstName=ud.firstName;var lastName=ud.lastName;var addCard=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var obj,js,response,txt,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();obj={userId:userId,card:card.value};js=JSON.stringify(obj);_context.prev=3;_context.next=6;return fetch('http://localhost:5000/api/addcard',{method:'POST',body:js,headers:{'Content-Type':'application/json'}});case 6:response=_context.sent;_context.next=9;return response.text();case 9:txt=_context.sent;res=JSON.parse(txt);if(res.error.length>0){setMessage(\"API Error:\"+res.error);}else{setMessage('Card has been added');}_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](3);setMessage(_context.t0.toString());case 17:card.value=\"\";case 18:case\"end\":return _context.stop();}},_callee,null,[[3,14]]);}));return function addCard(_x){return _ref.apply(this,arguments);};}();var searchCard=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var obj,js,response,txt,res,_results,resultText,i;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();obj={userId:userId,search:search.value};js=JSON.stringify(obj);_context2.prev=3;_context2.next=6;return fetch('http://localhost:5000/api/searchcards',{method:'POST',body:js,headers:{'Content-Type':'application/json'}});case 6:response=_context2.sent;_context2.next=9;return response.text();case 9:txt=_context2.sent;res=JSON.parse(txt);_results=res.results;resultText='';for(i=0;i<_results.length;i++){resultText+=_results[i];if(i<_results.length-1){resultText+=', ';}}setResults('Card(s) have been retrieved');setCardList(resultText);_context2.next=22;break;case 18:_context2.prev=18;_context2.t0=_context2[\"catch\"](3);alert(_context2.t0.toString());setResults(_context2.t0.toString());case 22:search.value=\"\";case 23:case\"end\":return _context2.stop();}},_callee2,null,[[3,18]]);}));return function searchCard(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"cardUIDiv\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"searchText\",class:\"textForm\",placeholder:\"Card To Search For\",ref:function ref(c){return search=c;}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"searchCardButton\",class:\"buttons\",onClick:searchCard,children:\" Search Card\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{id:\"cardSearchResult\",children:searchResults}),/*#__PURE__*/_jsx(\"p\",{id:\"cardList\",children:cardList}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"textForm\",id:\"cardText\",placeholder:\"Card To Add\",ref:function ref(c){return card=c;}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"addCardButton\",class:\"buttons\",onClick:addCard,children:\" Add Card \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{id:\"cardAddResult\",children:message})]});}export default CardUI;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","CardUI","card","search","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","searchResults","setResults","_useState5","_useState6","cardList","setCardList","_ud","localStorage","getItem","ud","JSON","parse","userId","id","firstName","lastName","addCard","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","obj","js","response","txt","res","wrap","_callee$","_context","prev","next","preventDefault","value","stringify","fetch","method","body","headers","sent","text","error","length","t0","toString","stop","_x","apply","arguments","searchCard","_ref2","_callee2","_results","resultText","i","_callee2$","_context2","results","alert","_x2","children","type","class","placeholder","ref","c","onClick"],"sources":["C:/Users/vintd/Documents/GitHub/Reserv/frontend/src/components/CardUI.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction CardUI()\r\n{\r\n    var card = '';\r\n    var search = '';\r\n\r\n    const [message,setMessage] = useState('');\r\n    const [searchResults,setResults] = useState('');\r\n    const [cardList,setCardList] = useState('');\r\n\r\n    var _ud = localStorage.getItem('user_data');\r\n    var ud = JSON.parse(_ud);\r\n    var userId = ud.id;\r\n    var firstName = ud.firstName;\r\n    var lastName = ud.lastName;\r\n    const addCard = async event =>\r\n    {\r\n        event.preventDefault();\r\n        var obj = {userId:userId,card:card.value};\r\n        var js = JSON.stringify(obj);\r\n        try\r\n        {\r\n            const response = await fetch('http://localhost:5000/api/addcard',\r\n            {method:'POST',body:js,headers:{'Content-Type':\r\n            'application/json'}});\r\n            var txt = await response.text();\r\n            var res = JSON.parse(txt);\r\n            if( res.error.length > 0 )\r\n            {\r\n                setMessage( \"API Error:\" + res.error );\r\n            }\r\n            else\r\n            {\r\n                setMessage('Card has been added');\r\n            }\r\n        }\r\n        catch(e)\r\n        {\r\n            setMessage(e.toString());\r\n        }\r\n        card.value = \"\";\r\n    };\r\n\r\n    const searchCard = async event =>\r\n    {\r\n        event.preventDefault();\r\n        var obj = {userId:userId,search:search.value};\r\n        var js = JSON.stringify(obj);\r\n        try\r\n        {\r\n            const response = await fetch('http://localhost:5000/api/searchcards',\r\n            {method:'POST',body:js,headers:{'Content-Type':\r\n            'application/json'}});\r\n            var txt = await response.text();\r\n            var res = JSON.parse(txt);\r\n            var _results = res.results;\r\n            var resultText = '';\r\n            for( var i=0; i<_results.length; i++ )\r\n            {\r\n                resultText += _results[i];\r\n                if( i < _results.length - 1 )\r\n                {\r\n                    resultText += ', ';\r\n                }\r\n            }\r\n            setResults('Card(s) have been retrieved');\r\n            setCardList(resultText);\r\n        }\r\n        catch(e)\r\n        {\r\n            alert(e.toString());\r\n            setResults(e.toString());\r\n        }\r\n        search.value = \"\";\r\n    };\r\n\r\n    return(\r\n        <div id=\"cardUIDiv\">\r\n            <br />\r\n            <input type=\"text\" id=\"searchText\" class=\"textForm\" placeholder=\"Card To Search For\"\r\n            ref={(c) => search = c} />\r\n            <button type=\"button\" id=\"searchCardButton\" class=\"buttons\"\r\n            onClick={searchCard}> Search Card</button><br />\r\n            <span id=\"cardSearchResult\">{searchResults}</span>\r\n            <p id=\"cardList\">{cardList}</p><br /><br />\r\n            <input type=\"text\" class=\"textForm\" id=\"cardText\" placeholder=\"Card To Add\"\r\n            ref={(c) => card = c} />\r\n            <button type=\"button\" id=\"addCardButton\" class=\"buttons\"\r\n            onClick={addCard}> Add Card </button><br />\r\n            <span id=\"cardAddResult\">{message}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CardUI;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}